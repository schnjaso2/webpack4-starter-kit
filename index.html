<!DOCTYPE html>
<!--
 Created on : 11-May-2017, 8:41:30 PM
 Author     : Akash Rai Chhabria
-->

<!--
   This code is free to use with proper credit given
   if this code is being used to make profit then please
   be sure to buy the required FancyBox license

   NOTE: the code for this is the same as every other html
         file (except for the about page) the only difference
         are the images (you will use your own images and
         add them to the src tag).
-->
<html>
    <head>
        <title>Jason Schneider</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!--Integration of CSS file "main.css-->
        <link href="main.css" rel="stylesheet" type="text/css"/>
        <!--Integration of JQuery -->
        <script src="jquery-3.2.1.min.js" type="text/javascript"></script>
        <!--Integration of FancyBox (makes pictures look good when clicked)-->
        <link href="jquery.fancybox.min.css" rel="stylesheet" type="text/css"/>
        <!--Integration of Instagram, Facebook, and GitHub icons-->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    </head>

    <body>

      <style>

.stroke {
  fill: none;
  stroke: #000;
  stroke-width: 3px;
}

.fill {
  fill: #fff;
}

.graticule {
  fill: none;
  stroke: #777;
  stroke-width: 0.5px;
  stroke-opacity: 0.5;
}

.land {
  fill: #222;
}

.boundary {
  fill: none;
  stroke: #fff;
  stroke-width: 0.5px;
}
        body {
        margin: 0;
        background-color: #2A2C39;
        font-family: 'Yanone Kaffeesatz', sans-serif;
        font-weight: 200;
        font-size: 17px;
      }
      #map-holder {
        width: 100vw;
        height: 100vh;
      }
      svg rect {
        fill: #2A2C39;   /* map background colour */
      }
      .country{
        fill: #d0d0d0;   /* country colour */
        stroke: #2A2C39; /* country border colour */
        stroke-width: 1; /* country border width */
      }
      .country-on{
        fill: #4B5358;   /* highlight colour for selected country */
      }
      .countryLabel{
        display: none;   /* hide all country labels by default */
      }
      .countryName{
        fill: #FFFAFF;   /* country label text colour */
      }
      .countryLabelBg{
        fill: #30BCED;   /* country label background colour */
      }

</style>
<svg width="1292" height="777"></svg>
<script src="//d3js.org/d3.v4.min.js"></script>
<script src="//d3js.org/d3-geo-projection.v1.min.js"></script>
<script src="//d3js.org/topojson.v1.min.js"></script>

    <script type="text/javascript">

      // DEFINE VARIABLES
      // Define size of map group
      // Full world map is 2:1 ratio
      // Using 12:5 because we will crop top and bottom of map

      // variables for catching min and max zoom factors
      var minZoom;
      var maxZoom;

      // DEFINE FUNCTIONS/OBJECTS
      // Define map projection
      var projection = d3
        .geoInterrupt(d3.geoSinusoidalRaw(
          [[ // northern hemisphere
        [[-180,   0], [-120,  90], [ -60,   0]],
        [[ -60,   0], [   0,  90], [  60,   0]],
        [[  60,   0], [ 120,  90], [ 180,   0]]
      ], [ // southern hemisphere
        [[-180,   0], [-180, -90], [ -120,  0]],
        [[-120,   0], [ -60, -90], [   0,   0]],
        [[   0,   0], [  60, -90], [ 120,   0]],
        [[ 120,   0], [ 180, -90], [ 180,   0]]
      ]])

           // scale to fit group width
          .translate([width/ 2, height / 2])
          .precision(0.01)
        )
      ;

      // Define map path
      var path = d3
        .geoPath()
        .projection(projection)
      ;

      // Create function to apply zoom to countriesGroup
      function zoomed() {
        t = d3
          .event
          .transform
        ;
        countriesGroup
          .attr("transform","translate(" + [t.x, t.y] + ")scale(" + t.k + ")")
        ;
      }

      // Define map zoom behaviour
      var zoom = d3
        .zoom()
        .on("zoom", zoomed)
      ;

      function getTextBox(selection) {
        selection
          .each(function(d) {
            d.bbox = this
              .getBBox();
            })
        ;
      }

      // Function that calculates zoom/pan limits and sets zoom to default value
      function initiateZoom() {
        // Define a "minzoom" whereby the "Countries" is as small possible without leaving white space at top/bottom or sides
        minZoom = Math.max($("#map-holder").width() / w, $("#map-holder").height() / h);
        // set max zoom to a suitable factor of this value
        maxZoom = 20 * minZoom;
        // set extent of zoom to chosen values
        // set translate extent so that panning can't cause map to move out of viewport
        zoom
          .scaleExtent([minZoom, maxZoom])
          .translateExtent([[0, 0], [w, h]])
        ;
        // define X and Y offset for centre of map to be shown in centre of holder
        midX = ($("#map-holder").width() - minZoom * w) / 2;
        midY = ($("#map-holder").height() - minZoom * h) / 2;
        // change zoom transform to min zoom and centre offsets
        svg.call(zoom.transform, d3.zoomIdentity.translate(midX, midY).scale(minZoom));
      }

      // zoom to show a bounding box, with optional additional padding as percentage of box size
      function boxZoom(box, centroid, paddingPerc) {
        minXY = box[0];
        maxXY = box[1];
        // find size of map area defined
        zoomWidth = Math.abs(minXY[0] - maxXY[0]);
        zoomHeight = Math.abs(minXY[1] - maxXY[1]);
        // find midpoint of map area defined
        zoomMidX = centroid[0];
        zoomMidY = centroid[1];
        // increase map area to include padding
        zoomWidth = zoomWidth * (1 + paddingPerc / 100);
        zoomHeight = zoomHeight * (1 + paddingPerc / 100);
        // find scale required for area to fill svg
        maxXscale = $("svg").width() / zoomWidth;
        maxYscale = $("svg").height() / zoomHeight;
        zoomScale = Math.min(maxXscale, maxYscale);
        // handle some edge cases
        // limit to max zoom (handles tiny countries)
        zoomScale = Math.min(zoomScale, maxZoom);
        // limit to min zoom (handles large countries and countries that span the date line)
        zoomScale = Math.max(zoomScale, minZoom);
        // Find screen pixel equivalent once scaled
        offsetX = zoomScale * zoomMidX;
        offsetY = zoomScale * zoomMidY;
        // Find offset to centre, making sure no gap at left or top of holder
        dleft = Math.min(0, $("svg").width() / 2 - offsetX);
        dtop = Math.min(0, $("svg").height() / 2 - offsetY);
        // Make sure no gap at bottom or right of holder
        dleft = Math.max($("svg").width() - w * zoomScale, dleft);
        dtop = Math.max($("svg").height() - h * zoomScale, dtop);
        // set zoom
        svg
          .transition()
          .duration(500)
          .call(
            zoom.transform,
            d3.zoomIdentity.translate(dleft, dtop).scale(zoomScale)
          );
      }




      // on window resize
      $(window).resize(function() {
        // Resize SVG
        svg
          .attr("width", $("#map-holder").width())
          .attr("height", $("#map-holder").height())
        ;
        initiateZoom();
      });

      // create an SVG
      var svg = d3
        .select("#svg")
        .append("svg")
        // set to the same size as the "map-holder" div
        .attr("width", $("#svg").width())
        .attr("height", $("#svg").height())
        // add zoom functionality
        .call(zoom)
      ;


      // get map data
      d3.json(
        "https://raw.githubusercontent.com/andybarefoot/andybarefoot-www/master/maps/mapdata/custom50.json",
        function(json) {
          //Bind data and create one path per GeoJSON feature
          countriesGroup = svg.append("g").attr("id", "map");
          // add a background rectangle
          countriesGroup
            .append("rect")
            .attr("x", 0)
            .attr("y", 0)
            .attr("width", w)
            .attr("height", h);

          // draw a path for each feature/country
          countries = countriesGroup
            .selectAll("path")
            .data(json.features)
            .enter()
            .append("path")
            .attr("d", path)
            .attr("id", function(d, i) {
              return "country" + d.properties.iso_a3;
            })
            .attr("class", "country")
      //      .attr("stroke-width", 10)
      //      .attr("stroke", "#ff0000")
            // add a mouseover action to show name label for feature/country
            .on("mouseover", function(d, i) {
                d3.select("#countryLabel" + d.properties.iso_a3).style("display", "block");
            })
            .on("mouseout", function(d, i) {
                d3.select("#countryLabel" + d.properties.iso_a3).style("display", "none");
            })
            // add an onclick action to zoom into clicked country
            .on("click", function(d, i) {
                d3.selectAll(".country").classed("country-on", false);
                d3.select(this).classed("country-on", true);
            boxZoom(path.bounds(d), path.centroid(d), 20);
            });
          // Add a label group to each feature/country. This will contain the country name and a background rectangle
          // Use CSS to have class "countryLabel" initially hidden
          countryLabels = countriesGroup
            .selectAll("g")
            .data(json.features)
            .enter()
            .append("g")
            .attr("class", "countryLabel")
            .attr("id", function(d) {
              return "countryLabel" + d.properties.iso_a3;
            })
            .attr("transform", function(d) {
              return (
                "translate(" + path.centroid(d)[0] + "," + path.centroid(d)[1] + ")"
              );
            })
            // add mouseover functionality to the label
            .on("mouseover", function(d, i) {
                d3.select(this).style("display", "block");
            })
            .on("mouseout", function(d, i) {
                 d3.select(this).style("display", "none");
           })
            // add an onlcick action to zoom into clicked country
            .on("click", function(d, i) {
                d3.selectAll(".country").classed("country-on", false);
                d3.select("#country" + d.properties.iso_a3).classed("country-on", true);
              boxZoom(path.bounds(d), path.centroid(d), 20);
            });
          // add the text to the label group showing country name
          countryLabels
            .append("text")
            .attr("class", "countryName")
            .style("text-anchor", "middle")
            .attr("dx", 0)
            .attr("dy", 0)
            .text(function(d) {
              return d.properties.name;
            })
            .call(getTextBox);
          // add a background rectangle the same size as the text
          countryLabels
            .insert("rect", "text")
            .attr("class", "countryLabelBg")
            .attr("transform", function(d) {
              return "translate(" + (d.bbox.x - 2) + "," + d.bbox.y + ")";
            })
            .attr("width", function(d) {
              return d.bbox.width + 4;
            })
            .attr("height", function(d) {
              return d.bbox.height;
            });
          initiateZoom();
        }
      );

    </script>


        <!--Side Navigation content-->

        <nav>
            <!--Side navigation button (only enabled in mobile or tablet mode)-->
            <a href="#" class="nav-toggle-btn"></a>
            <!--Side navigation Menu-->
            <h1><a href="index.html"> Jason Schneider</a></h1>
                <ul>
                    <li><a href="People.html"> People </a></li>
                    <li><a href="NightLife.html"> Nightlife </a></li>
                    <li><a href="Cars.html"> Cars </a></li>

                    <li><a href="Nature.html"> Nature </a></li>
                    <li><a href="Urban.html"> Urban </a></li>
                    <li><a href="Resume.html"> ResuMap/CV </a></li>
                </ul>
            <!--Side navigation menu (about and contact)-->
            <div class="info">
                <h5><a href="About.html">About/Contact</a></h5>
            </div>
            <!--Side navigation menu (social media buttons) -->
            <div class="socialbtn">
                <ul>
                    <li><a href="https://www.facebook.com/permanentobserver"><i class="fa fa-facebook-official" aria-hidden="true"></i></a></li>
                    <li><a href="https://www.instagram.com/permanentobserver/" target="_blank"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                    <li><a href="https://github.com/schnjaso2" target="_blank"><i class="fa fa-github" aria-hidden="true"></i></a></li>
                    <li><a href="https://soundcloud.com/kid-chivalrous" target="_blank"><i class="fa fa-soundcloud" aria-hidden="true"></i></a></li>
                    <li><a href="https://www.youtube.com/channel/UCtcvTltVdZimElV1WlqCDjQ?view_as=subscriber" target="_blank"><i class="fa fa-youtube" aria-hidden="true"></i></a></li>
                    <li><a href="https://venmo.com/Jason-Schneider-9" target="_blank"><i class="fa fa-venmo" aria-hidden="true"></i></a></li>
                    <li><a href="https://www.linkedin.com/in/prmntobsrvr/" target="_blank"><i class="fa fa-linkedin" aria-hidden="true"></i></a></li>
                </ul>
            </div>

        </nav>

         <!--photography pictures-->

       <div id="main" class="content">
            <a href="Featured/Featured_1.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_1.jpg" alt=""/></a>
            <a href="Featured/Featured_2.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_2.jpg" alt=""/></a>
            <a href="Featured/Featured_3.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_3.jpg" alt=""/></a>
            <a href="Featured/Featured_4.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_4.jpg" alt=""/></a>
            <a href="Featured/Featured_5.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_5.jpg" alt=""/></a>
            <a href="Featured/Featured_6.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_6.jpg" alt=""/></a>
            <a href="Featured/Featured_7.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_7.jpg" alt=""/></a>
            <a href="Featured/Featured_8.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_8.jpg" alt=""/></a>
            <a href="Featured/Featured_9.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_9.jpg" alt=""/></a>
            <a href="Featured/Featured_10.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_10.jpg" alt=""/></a>
            <a href="Featured/Featured_11.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_11.jpg" alt=""/></a>
            <a href="Featured/Featured_12.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_12.jpg" alt=""/></a>
            <a href="Featured/Featured_13.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_13.jpg" alt=""/></a>
            <a href="Featured/Featured_14.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_14.jpg" alt=""/></a>
            <a href="Featured/Featured_15.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_15.jpg" alt=""/></a>
            <a href="Featured/Featured_16.jpg" data-caption="" data-fancybox="image"><img src="Featured/Featured_16.jpg" alt=""/></a>
        </div>

        <script src="jquery-3.2.1.min.js" type="text/javascript"></script>
        <script src="jquery.fancybox.min.js" type="text/javascript"></script>
        <!--Google analytics integration-->
        <script src="GoogleAnalytics.js" type="text/javascript"></script>

        <!--Code to make the side navigation button slide out when clicked
        and also contain the content  of the navigation menu and also sets up
        fancybox (you can use to the fancybox API to change the functionality however
        you like-->

        <script type="text/javascript">

        (function() {

            var bodyEl = $('body'),
                navToggleBtn = bodyEl.find('.nav-toggle-btn');

            navToggleBtn.on('click', function(e) {
                bodyEl.toggleClass('active-nav');
                e.preventDefault();
            });

        })();

            $(document).ready(function ()
            {
            });

    </script>

    </body>
</html>
